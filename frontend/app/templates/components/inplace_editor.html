<div class="inplace-editor type-{{type}} attribute-{{attribute}}" ng-class="{busy: isBusy, preview: isPreview, editable: isEditable}" aria-busy="{{ isBusy }}" ng-disabled="!isEditable">
  <div class="ined-read-value" ng-class="{ default: placeholderSet, editable: isEditable }" ng-hide="isEditing" ng-switch="type">
    <span class="read-value-wrapper" ng-include src="getDisplayTemplateUrl()"></span>
    <span ng-if="isEditable" class="editing-link-wrapper">
      <accessible-by-keyboard execute="startEditing()">
        <icon-wrapper icon-name="edit" icon-title="{{ editTitle }}">
        </icon-wrapper>
      </accessible-by-keyboard>
    </span>
  </div>
  <div class="ined-edit" ng-if="isEditing">
    <form name="editForm" ng-submit="submit(false)" novalidate>
      <div class="ined-input-wrapper">
        <div class="ined-input-wrapper-inner"
             ng-include src="getTemplateUrl()">
        </div>
        <div class="preview-wrapper" ng-if="isPreview && !isBusy">
          <span ng-bind-html="previewHtml"></span>
        </div>
      </div>
      <div class="ined-dashboard">
        <div class="ined-errors" ng-show="error" role="alert" ng-bind="error" aria-live="polite"></div>
        <div class="ined-controls" ng-hide="isBusy">
          <div class="inplace-edit--control">
            <accessible-by-keyboard execute="editForm.$valid && submit(false)">
              <icon-wrapper icon-name="yes" icon-title="{{ saveTitle }}">
              </icon-wrapper>
            </accessible-by-keyboard>
          </div>
          <div class="inplace-edit--control -icons-2">
            <accessible-by-keyboard execute="editForm.$valid && submit(true)">
              <span title="{{ saveAndSendTitle }}">
                <i class="icon-yes"></i>
                <i class="icon-mail"></i>
              </span>
            </accessible-by-keyboard>
          </div>
          <div class="inplace-edit--control">
            <accessible-by-keyboard execute="discardEditing()">
              <icon-wrapper icon-name="close" icon-title="{{ cancelTitle }}" css-class="icon4">
              </icon-wrapper>
            </accessible-by-keyboard>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
